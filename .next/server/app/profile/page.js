(()=>{var e={};e.id=178,e.ids=[178],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},60:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),t(44591),t(11506),t(26083),t(35866);var r=t(23191),a=t(88716),i=t(37922),l=t.n(i),n=t(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let d=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,44591)),"/Users/viniciusalbino/Documents/GitHub/clausediff.nosync/app/profile/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,11506)),"/Users/viniciusalbino/Documents/GitHub/clausediff.nosync/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,26083)),"/Users/viniciusalbino/Documents/GitHub/clausediff.nosync/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/viniciusalbino/Documents/GitHub/clausediff.nosync/app/profile/page.tsx"],m="/profile/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},93252:(e,s,t)=>{Promise.resolve().then(t.bind(t,67733))},92678:(e,s,t)=>{Promise.resolve().then(t.bind(t,24144))},47976:(e,s,t)=>{Promise.resolve().then(t.bind(t,9776))},81360:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},67733:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(10326);function a({error:e,reset:s}){return r.jsx("html",{children:r.jsx("body",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 text-gray-900",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white shadow-lg rounded-xl p-8 flex flex-col items-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-red-700 mb-4",children:"Ocorreu um erro inesperado"}),r.jsx("pre",{className:"bg-gray-100 text-red-800 p-4 rounded mb-4 w-full overflow-x-auto text-xs",children:e.message}),r.jsx("button",{className:"px-4 py-2 bg-blue-700 text-white rounded hover:bg-blue-800 transition",onClick:()=>s(),children:"Tentar novamente"})]})})})}},24144:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var r=t(10326),a=t(5182),i=t.n(a);t(4047);var l=t(77109);function n({children:e}){return(0,r.jsxs)("html",{lang:"pt-BR",className:`${i().variable} font-sans`,children:[r.jsx("head",{children:r.jsx("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"})}),r.jsx("body",{className:"bg-gray-50 text-gray-900 min-h-screen",children:r.jsx(l.SessionProvider,{basePath:"/api/auth",children:e})})]})}},9776:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var r=t(10326),a=t(17577),i=t(77109),l=t(35047),n=t(90434),o=t(42576);let d=o.z.object({firstName:o.z.string().min(1,"Nome \xe9 obrigat\xf3rio").max(50,"Nome deve ter no m\xe1ximo 50 caracteres"),lastName:o.z.string().min(1,"Sobrenome \xe9 obrigat\xf3rio").max(50,"Sobrenome deve ter no m\xe1ximo 50 caracteres"),email:o.z.string().email("Email inv\xe1lido").toLowerCase(),city:o.z.string().max(100,"Cidade deve ter no m\xe1ximo 100 caracteres").optional().or(o.z.literal("")),state:o.z.string().max(50,"Estado deve ter no m\xe1ximo 50 caracteres").optional().or(o.z.literal("")),cpf:o.z.string().optional().or(o.z.literal("")).refine(e=>!e||11===e.replace(/\D/g,"").length,"CPF deve ter 11 d\xedgitos")});function c(){let{data:e,status:s,update:t}=(0,i.useSession)();(0,l.useRouter)();let[c,m]=(0,a.useState)({firstName:"",lastName:"",email:"",city:"",state:"",cpf:""}),[u,x]=(0,a.useState)({}),[f,g]=(0,a.useState)(!1),[b,p]=(0,a.useState)(!1),[h,y]=(0,a.useState)(""),[v,j]=(0,a.useState)(""),N=e=>{let{name:s,value:t}=e.target;if("cpf"===s){let e=t.replace(/\D/g,"").replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4");m(t=>({...t,[s]:e}))}else m(e=>({...e,[s]:t}));u[s]&&x(e=>({...e,[s]:""})),h&&y(""),v&&j("")},w=()=>{try{return d.parse(c),x({}),!0}catch(e){if(e instanceof o.z.ZodError){let s={};e.errors.forEach(e=>{e.path[0]&&(s[e.path[0]]=e.message)}),x(s)}return!1}},P=async s=>{if(s.preventDefault(),w()){g(!0),y(""),j("");try{let s=await fetch("/api/user/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),r=await s.json();s.ok?(j("Perfil atualizado com sucesso!"),p(!1),await t({...e,user:{...e?.user,...c}})):y(r.details||r.error||"Erro ao atualizar perfil")}catch(e){y("Erro de conex\xe3o. Tente novamente.")}finally{g(!1)}}},k=async()=>{await (0,i.signOut)({callbackUrl:"/login"})};return"loading"===s?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("svg",{className:"animate-spin mx-auto h-12 w-12 text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("h2",{className:"mt-4 text-xl font-semibold text-gray-900",children:"Carregando..."})]})}):"unauthenticated"===s?null:r.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-3xl mx-auto",children:[r.jsx("div",{className:"bg-white shadow sm:rounded-lg mb-6",children:r.jsx("div",{className:"px-4 py-5 sm:p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Meu Perfil"}),r.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Gerencie suas informa\xe7\xf5es pessoais e configura\xe7\xf5es de conta"})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[r.jsx(n.default,{href:"/dashboard",className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Dashboard"}),r.jsx("button",{onClick:k,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Sair"})]})]})})}),r.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:(0,r.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Informa\xe7\xf5es Pessoais"}),!b&&(0,r.jsxs)("button",{onClick:()=>p(!0),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[r.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Editar"]})]}),v&&r.jsx("div",{className:"mb-4 rounded-md bg-green-50 p-4",children:(0,r.jsxs)("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),r.jsx("div",{className:"ml-3",children:r.jsx("p",{className:"text-sm text-green-800",children:v})})]})}),h&&r.jsx("div",{className:"mb-4 rounded-md bg-red-50 p-4",children:(0,r.jsxs)("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),r.jsx("div",{className:"ml-3",children:r.jsx("p",{className:"text-sm text-red-800",children:h})})]})}),(0,r.jsxs)("form",{onSubmit:P,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"Nome *"}),r.jsx("input",{type:"text",id:"firstName",name:"firstName",value:c.firstName,onChange:N,disabled:!b||f,className:`mt-1 block w-full px-3 py-2 border ${u.firstName?"border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} rounded-md shadow-sm sm:text-sm ${b?"bg-white":"bg-gray-50 text-gray-500"} disabled:bg-gray-50 disabled:text-gray-500`}),u.firstName&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.firstName})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Sobrenome *"}),r.jsx("input",{type:"text",id:"lastName",name:"lastName",value:c.lastName,onChange:N,disabled:!b||f,className:`mt-1 block w-full px-3 py-2 border ${u.lastName?"border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} rounded-md shadow-sm sm:text-sm ${b?"bg-white":"bg-gray-50 text-gray-500"} disabled:bg-gray-50 disabled:text-gray-500`}),u.lastName&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.lastName})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),r.jsx("input",{type:"email",id:"email",name:"email",value:c.email,disabled:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-50 text-gray-500 sm:text-sm"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"O email n\xe3o pode ser alterado por quest\xf5es de seguran\xe7a"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"Cidade"}),r.jsx("input",{type:"text",id:"city",name:"city",value:c.city,onChange:N,disabled:!b||f,className:`mt-1 block w-full px-3 py-2 border ${u.city?"border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} rounded-md shadow-sm sm:text-sm ${b?"bg-white":"bg-gray-50 text-gray-500"} disabled:bg-gray-50 disabled:text-gray-500`}),u.city&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.city})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"Estado"}),r.jsx("input",{type:"text",id:"state",name:"state",value:c.state,onChange:N,disabled:!b||f,className:`mt-1 block w-full px-3 py-2 border ${u.state?"border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} rounded-md shadow-sm sm:text-sm ${b?"bg-white":"bg-gray-50 text-gray-500"} disabled:bg-gray-50 disabled:text-gray-500`}),u.state&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.state})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"cpf",className:"block text-sm font-medium text-gray-700",children:"CPF"}),r.jsx("input",{type:"text",id:"cpf",name:"cpf",value:c.cpf,onChange:N,disabled:!b||f,placeholder:"000.000.000-00",maxLength:14,className:`mt-1 block w-full px-3 py-2 border ${u.cpf?"border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} rounded-md shadow-sm sm:text-sm ${b?"bg-white":"bg-gray-50 text-gray-500"} disabled:bg-gray-50 disabled:text-gray-500`}),u.cpf&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.cpf})]}),b&&(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>{e?.user&&m({firstName:e.user.firstName||"",lastName:e.user.lastName||"",email:e.user.email||"",city:e.user.city||"",state:e.user.state||"",cpf:e.user.cpf||""}),x({}),y(""),j(""),p(!1)},disabled:f,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),r.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:f?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Salvando..."]}):"Salvar Altera\xe7\xf5es"})]})]})]})}),r.jsx("div",{className:"bg-white shadow sm:rounded-lg mt-6",children:(0,r.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informa\xe7\xf5es da Conta"}),(0,r.jsxs)("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Tipo de Conta"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:e?.user?.role==="ADMIN"?"Administrador":"Usu\xe1rio"})]}),(0,r.jsxs)("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email Verificado"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:e?.user?.emailVerified?"Sim":"N\xe3o"})]}),(0,r.jsxs)("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Status da Conta"}),r.jsx("dd",{className:"mt-1",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Ativa"})})]})]})]})})]})})}},35047:(e,s,t)=>{"use strict";var r=t(77389);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},26083:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>i,default:()=>n});var r=t(68570);let a=(0,r.createProxy)(String.raw`/Users/viniciusalbino/Documents/GitHub/clausediff.nosync/app/error.tsx`),{__esModule:i,$$typeof:l}=a;a.default;let n=(0,r.createProxy)(String.raw`/Users/viniciusalbino/Documents/GitHub/clausediff.nosync/app/error.tsx#default`)},11506:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>i,default:()=>n});var r=t(68570);let a=(0,r.createProxy)(String.raw`/Users/viniciusalbino/Documents/GitHub/clausediff.nosync/app/layout.tsx`),{__esModule:i,$$typeof:l}=a;a.default;let n=(0,r.createProxy)(String.raw`/Users/viniciusalbino/Documents/GitHub/clausediff.nosync/app/layout.tsx#default`)},44591:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>i,default:()=>n});var r=t(68570);let a=(0,r.createProxy)(String.raw`/Users/viniciusalbino/Documents/GitHub/clausediff.nosync/app/profile/page.tsx`),{__esModule:i,$$typeof:l}=a;a.default;let n=(0,r.createProxy)(String.raw`/Users/viniciusalbino/Documents/GitHub/clausediff.nosync/app/profile/page.tsx#default`)},4047:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[948,143,404,237],()=>t(60));module.exports=r})();