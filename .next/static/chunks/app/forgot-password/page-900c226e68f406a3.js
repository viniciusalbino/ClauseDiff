(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[781],{4924:function(e,t,s){Promise.resolve().then(s.bind(s,6831))},6831:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var l=s(7437),a=s(2265),r=s(7138),n=s(6700);let i=n.z.object({email:n.z.string().email("Email inv\xe1lido").toLowerCase()}),o=()=>(0,l.jsx)("svg",{className:"w-6 h-6 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});function d(){let[e,t]=(0,a.useState)({email:""}),[s,d]=(0,a.useState)({}),[c,x]=(0,a.useState)(!1),[m,u]=(0,a.useState)(!1),[f,h]=(0,a.useState)(""),b=()=>{try{return i.parse(e),d({}),!0}catch(e){if(e instanceof n.z.ZodError){let t={};e.errors.forEach(e=>{e.path[0]&&(t[e.path[0]]=e.message)}),d(t)}return!1}},p=async t=>{if(t.preventDefault(),b()){x(!0),h("");try{let t=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();t.ok?u(!0):h(s.details||s.error||"Erro ao solicitar recupera\xe7\xe3o de senha")}catch(e){h("Erro de conex\xe3o. Tente novamente.")}finally{x(!1)}}};return m?(0,l.jsxs)("div",{className:"min-h-screen bg-slate-50 text-slate-800 flex flex-col items-center justify-between p-4",children:[(0,l.jsxs)("header",{className:"w-full max-w-6xl mx-auto flex justify-between items-center py-4 px-2 sm:px-0",children:[(0,l.jsxs)(r.default,{href:"/",className:"flex items-center text-2xl font-semibold text-slate-700 hover:text-blue-600",children:[(0,l.jsx)(o,{}),"ClauseDiff"]}),(0,l.jsx)(r.default,{href:"/login",className:"text-sm text-slate-600 hover:text-blue-600 hover:underline",children:"Voltar para Login"})]}),(0,l.jsx)("main",{className:"flex flex-col items-center justify-center w-full flex-grow",children:(0,l.jsxs)("div",{className:"w-full max-w-md p-8 space-y-8 bg-white shadow-xl rounded-lg",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:(0,l.jsx)("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,l.jsx)("h2",{className:"text-3xl font-bold text-slate-900",children:"Email Enviado!"}),(0,l.jsx)("p",{className:"mt-2 text-sm text-slate-600",children:"Se o email estiver cadastrado, voc\xea receber\xe1 um link de recupera\xe7\xe3o de senha em sua caixa de entrada."})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)(r.default,{href:"/login",className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Voltar para Login"}),(0,l.jsx)("button",{onClick:()=>{u(!1),t({email:""})},className:"w-full flex justify-center py-2.5 px-4 border border-slate-300 rounded-md shadow-sm text-sm font-medium text-slate-700 bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Enviar para outro email"})]})]})}),(0,l.jsx)("footer",{className:"w-full max-w-6xl mx-auto text-center py-6 px-2 sm:px-0",children:(0,l.jsxs)("p",{className:"text-xs text-slate-500",children:["\xa9 ",new Date().getFullYear()," ClauseDiff. Todos os direitos reservados."]})})]}):(0,l.jsxs)("div",{className:"min-h-screen bg-slate-50 text-slate-800 flex flex-col items-center justify-between p-4",children:[(0,l.jsxs)("header",{className:"w-full max-w-6xl mx-auto flex justify-between items-center py-4 px-2 sm:px-0",children:[(0,l.jsxs)(r.default,{href:"/",className:"flex items-center text-2xl font-semibold text-slate-700 hover:text-blue-600",children:[(0,l.jsx)(o,{}),"ClauseDiff"]}),(0,l.jsx)(r.default,{href:"/login",className:"text-sm text-slate-600 hover:text-blue-600 hover:underline",children:"J\xe1 tem conta? Fa\xe7a login"})]}),(0,l.jsx)("main",{className:"flex flex-col items-center justify-center w-full flex-grow",children:(0,l.jsxs)("div",{className:"w-full max-w-md p-8 space-y-8 bg-white shadow-xl rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-center text-3xl font-bold text-slate-900",children:"Recuperar Senha"}),(0,l.jsx)("p",{className:"mt-2 text-center text-sm text-slate-600",children:"Digite seu email para receber um link de recupera\xe7\xe3o de senha"})]}),f&&(0,l.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded-md text-sm",children:(0,l.jsx)("p",{children:f})}),(0,l.jsxs)("form",{className:"space-y-6",onSubmit:p,children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:"Email"}),(0,l.jsxs)("div",{className:"mt-1",children:[(0,l.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,placeholder:"seu@email.com",value:e.email,onChange:e=>{let{name:l,value:a}=e.target;t(e=>({...e,[l]:a})),s[l]&&d(e=>({...e,[l]:""})),f&&h("")},className:"appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 ".concat(s.email?"border-red-300":"border-slate-300"),disabled:c}),s.email&&(0,l.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s.email})]})]}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Enviando...":"Enviar Link de Recupera\xe7\xe3o"})})]}),(0,l.jsx)("div",{className:"text-sm text-center",children:(0,l.jsx)(r.default,{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500 hover:underline",children:"Voltar para Login"})})]})}),(0,l.jsx)("footer",{className:"w-full max-w-6xl mx-auto text-center py-6 px-2 sm:px-0",children:(0,l.jsxs)("p",{className:"text-xs text-slate-500",children:["\xa9 ",new Date().getFullYear()," ClauseDiff. Todos os direitos reservados."]})})]})}}},function(e){e.O(0,[231,47,971,23,744],function(){return e(e.s=4924)}),_N_E=e.O()}]);